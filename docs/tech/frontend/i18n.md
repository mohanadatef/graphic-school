# Frontend i18n (Internationalization)

## Overview

The frontend supports multiple languages with Vue I18n. Languages are database-driven and can be managed by admins.

## i18n Configuration

### Setup (`src/i18n/index.js`)

Vue I18n is configured with:
- Default locale: `en`
- Fallback locale: `en`
- Supported locales: `en`, `ar`
- RTL support for Arabic

### Translation Files

Translation files are in `src/i18n/locales/`:
- `en.json` - English translations
- `ar.json` - Arabic translations

## Language Management

### Database-Driven Languages

Languages are stored in the database:
- Admin can add/remove languages
- Languages can be activated/deactivated
- One default language
- RTL flag for right-to-left languages

### Language Store

`useLanguageStore` manages languages:
- Fetches languages from API
- Tracks active languages
- Provides default language
- Checks for multiple languages

## Using i18n

### In Templates

```vue
<template>
  <h1>{{ $t('page.title') }}</h1>
  <p>{{ $t('page.description') }}</p>
</template>
```

### In Scripts

```vue
<script setup>
import { useI18n } from '../composables/useI18n';

const { t, locale } = useI18n();
const title = t('page.title');
</script>
```

### In Composables

```javascript
import { useI18n } from '../composables/useI18n';

export function useMyComposable() {
  const { t } = useI18n();
  return { t };
}
```

## Translation Keys

### Key Structure

Keys are organized by feature:
```json
{
  "admin": {
    "dashboard": "Dashboard",
    "courses": "Courses",
    "users": "Users"
  },
  "student": {
    "myCourses": "My Courses",
    "myGroup": "My Group"
  }
}
```

### Naming Convention

- Use dot notation: `feature.section.item`
- Keep keys descriptive
- Group by feature/page
- Use consistent naming

## Multi-Language Forms

### Single Language

If only one language is active:
- Show normal input fields
- No language tabs
- Direct value binding

### Multiple Languages

If multiple languages are active:
- Show language tabs
- One field per language
- Store as JSON object

### Components

- `MultiLanguageInput.vue` - Multi-language input
- `MultiLanguageTextarea.vue` - Multi-language textarea
- `useMultiLanguage` composable - Form helper

## Language Switching

### Language Picker

`LanguagePicker.vue` component:
- Shows available languages
- Allows language switching
- Updates UI immediately
- Saves preference

### Language Switcher

`LanguageSwitcher.vue` component:
- Header language switcher
- Quick language toggle
- Visual language indicator

### Switching Logic

1. User selects language
2. Locale updated in Vue I18n
3. Preference saved to localStorage
4. API header updated
5. Document direction updated (RTL/LTR)
6. UI re-renders with new language

## RTL Support

### Right-to-Left Languages

Arabic and Hebrew are RTL:
- Document direction set to `rtl`
- CSS classes for RTL styling
- Tailwind RTL utilities
- Component RTL awareness

### RTL Detection

```javascript
const { isRTL } = useI18n();
if (isRTL.value) {
  // RTL-specific logic
}
```

## Translation Management

### Adding Translations

1. Add key to translation files
2. Add translations for all languages
3. Use key in components
4. Test in all languages

### Missing Translations

- Fallback to default language
- Show key if translation missing
- Log missing keys (development)
- Admin can add translations

## CMS Content

### Multi-Language Pages

CMS pages support multi-language:
- Title per language
- Content per language
- Meta description per language
- Blocks per language

### Rendering

- Current locale used for content
- Fallback to default language
- Language switcher updates content

## Best Practices

1. **Always Use i18n**
   - Never hardcode text
   - Use translation keys
   - Support all languages

2. **Organize Keys**
   - Group by feature
   - Use descriptive names
   - Keep structure consistent

3. **Handle Missing Keys**
   - Fallback gracefully
   - Log in development
   - Add missing translations

4. **RTL Support**
   - Test in RTL languages
   - Use RTL-aware components
   - Check layout in RTL

5. **Performance**
   - Lazy load translations
   - Cache translations
   - Minimize bundle size

## Conclusion

i18n provides:
- Multi-language support
- Database-driven languages
- RTL support
- Easy translation management
- Consistent user experience

All user-facing text should be translated and managed through the i18n system.

